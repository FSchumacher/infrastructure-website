<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <meta name="generator" content="Pelican" />
        <title>Build and manage a project website with Pelican and Buildbot</title>
        <link rel="stylesheet" href="https://infra.apache.org/theme/css/main.css" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="https://infra.apache.org/">Apache Infrastructure</a></h1>
                <nav><ul>
                    <li><a href="https://infra.apache.org/./oauth-two-factor-authentication.html">OAuth Two-Factor Authentication</a></li>
                    <li><a href="https://infra.apache.org/./asf-account-management.html">ASF account management</a></li>
                    <li><a href="https://infra.apache.org/./apache-and-github.html">Apache and GitHub</a></li>
                    <li><a href="https://infra.apache.org/./application-upgrades-policy-and-workflow.html">Application upgrades policy and workflow</a></li>
                    <li><a href="https://infra.apache.org/./distributing-through-the-apple-developer-program.html">Distributing through the Apple Developer Program</a></li>
                    <li><a href="https://infra.apache.org/./applying-the-apache-license-version-20.html">Applying the Apache license, version 2.0</a></li>
                    <li><a href="https://infra.apache.org/./asf-pelican-build-process.html">ASF-Pelican build process</a></li>
                    <li><a href="https://infra.apache.org/./configuring-asf-pelican.html">Configuring ASF Pelican</a></li>
                    <li><a href="https://infra.apache.org/./asf-pelican-data-model.html">ASF Pelican data model</a></li>
                    <li><a href="https://infra.apache.org/./asf-pelican-getting-started-guide.html">ASF-Pelican getting-started guide</a></li>
                    <li><a href="https://infra.apache.org/./local-pelican-builds.html">Local Pelican builds</a></li>
                    <li><a href="https://infra.apache.org/./asf-pelican-plugins.html">ASF Pelican plugins</a></li>
                    <li><a href="https://infra.apache.org/./apache-theme-for-asf-pelican.html">Apache Theme for ASF Pelican</a></li>
                    <li><a href="https://infra.apache.org/./asf-pelican.html">ASF-Pelican</a></li>
                    <li><a href="https://infra.apache.org/./asfbot-irc-services-and-archives.html">ASFBot: IRC services and archives</a></li>
                    <li><a href="https://infra.apache.org/./project-sites-using-mkdocs.html">Project sites using MKDocs</a></li>
                    <li><a href="https://infra.apache.org/./backup-policy.html">Backup policy</a></li>
                    <li><a href="https://infra.apache.org/./writing-a-good-bug-report.html">Writing a good bug report</a></li>
                    <li><a href="https://infra.apache.org/./committer-email.html">Committer Email</a></li>
                    <li><a href="https://infra.apache.org/./policy-for-outreach-to-committers.html">Policy for Outreach to Committers</a></li>
                    <li><a href="https://infra.apache.org/./committers-faqs.html">Committers' FAQs</a></li>
                    <li><a href="https://infra.apache.org/./contact-the-infrastructure-team.html">Contact the Infrastructure Team</a></li>
                    <li><a href="https://infra.apache.org/./tips-for-apache-project-email-contributors.html">Tips for Apache project email contributors</a></li>
                    <li><a href="https://infra.apache.org/./guide-for-new-project-contributors.html">Guide for new project contributors</a></li>
                    <li><a href="https://infra.apache.org/./handling-cryptography-within-an-asf-release.html">Handling cryptography within an ASF release</a></li>
                    <li><a href="https://infra.apache.org/./confluence-wiki-space-for-your-project.html">Confluence Wiki space for your project</a></li>
                    <li><a href="https://infra.apache.org/./requesting-access-to-the-digicert-code-signing-service.html">Requesting access to the Digicert code signing service</a></li>
                    <li><a href="https://infra.apache.org/./using-the-digicert-code-signing-service.html">Using the Digicert code signing service</a></li>
                    <li><a href="https://infra.apache.org/./documentation.html">Documentation</a></li>
                    <li><a href="https://infra.apache.org/./docker-hub-use-policy.html">Docker Hub use policy</a></li>
                    <li><a href="https://infra.apache.org/./reference/committer/email.html">Committer e-mail configuration</a></li>
                    <li><a href="https://infra.apache.org/./fingerprints.html">Fingerprints</a></li>
                    <li><a href="https://infra.apache.org/./github-flavored-markdown.html">GitHub Flavored Markdown</a></li>
                    <li><a href="https://infra.apache.org/./getting-started-with-git.html">Getting started with Git</a></li>
                    <li><a href="https://infra.apache.org/./git-access-to-apache-subversion-codebases.html">Git access to Apache Subversion codebases</a></li>
                    <li><a href="https://infra.apache.org/./reference/committer/git.html">Getting started with Git</a></li>
                    <li><a href="https://infra.apache.org/./github-actions-policy.html">GitHub Actions Policy</a></li>
                    <li><a href="https://infra.apache.org/./github-actions-and-secrets.html">GitHub Actions and Secrets</a></li>
                    <li><a href="https://infra.apache.org/./github-pages-for-projects.html">GitHub Pages for projects</a></li>
                    <li><a href="https://infra.apache.org/./roles-for-project-github-repositories.html">Roles for project GitHub repositories</a></li>
                    <li><a href="https://infra.apache.org/./reference/committer/github.html">Apache and GitHub</a></li>
                    <li><a href="https://infra.apache.org/./glossary.html">Glossary</a></li>
                    <li><a href="https://infra.apache.org/./host-a-jenkins-or-buildbot-agent.html">Host a Jenkins or Buildbot agent</a></li>
                    <li><a href="https://infra.apache.org/./how-to-mirror-asf-software-releases-locally.html">How to mirror ASF software releases locally</a></li>
                    <li><a href="https://infra.apache.org/./reference/committer/id.html">Changing your account details (self serve)</a></li>
                    <li><a href="https://infra.apache.org/./reference/committer/index.html">Committer Documentation</a></li>
                    <li><a href="https://infra.apache.org/./reference/index.html">Reference Documentation</a></li>
                    <li><a href="https://infra.apache.org/./site-wide-ban-policy.html">Site-wide ban policy</a></li>
                    <li><a href="https://infra.apache.org/./details-on-contacting-infra.html">Details on contacting Infra</a></li>
                    <li><a href="https://infra.apache.org/./infra-and-the-incubator.html">Infra and the Incubator</a></li>
                    <li><a href="https://infra.apache.org/./apache-infrastructure-mailing-lists.html">Apache Infrastructure mailing lists</a></li>
                    <li><a href="https://infra.apache.org/./volunteering-for-apache-infrastructure.html">Volunteering for Apache Infrastructure</a></li>
                    <li><a href="https://infra.apache.org/./reference/committer/jenkins-docker.html">Using Docker with builds.apache.org</a></li>
                    <li><a href="https://infra.apache.org/./guidelines-for-creating-a-jira-ticket.html">Guidelines for creating a Jira ticket</a></li>
                    <li><a href="https://infra.apache.org/./how-to-transition-to-a-new-pgp-key.html">How to transition to a new PGP key</a></li>
                    <li><a href="https://infra.apache.org/./assembling-license-and-notice-files.html">Assembling LICENSE and NOTICE files</a></li>
                    <li><a href="https://infra.apache.org/./localization.html">Localization</a></li>
                    <li><a href="https://infra.apache.org/./machines-and-fingerprints.html">Machines and Fingerprints</a></li>
                    <li><a href="https://infra.apache.org/./mailing-list-migration-project.html">Mailing List Migration Project</a></li>
                    <li><a href="https://infra.apache.org/./mail-rejection-policy.html">Mail Rejection Policy</a></li>
                    <li><a href="https://infra.apache.org/./mailing-list-moderation.html">Mailing list moderation</a></li>
                    <li><a href="https://infra.apache.org/./managing-project-committers.html">Managing Project Committers</a></li>
                    <li><a href="https://infra.apache.org/./apache-download-mirror-system.html">Apache download mirror system</a></li>
                    <li><a href="https://infra.apache.org/./guide-for-new-project-committers.html">Guide for new project committers</a></li>
                    <li><a href="https://infra.apache.org/./reference/committer/newaccount.html">Guide to new committers</a></li>
                    <li><a href="https://infra.apache.org/./nexus-101.html">Nexus 101</a></li>
                    <li><a href="https://infra.apache.org/./open-access-svn.html">Open-access SVN</a></li>
                    <li><a href="https://infra.apache.org/./cryptography-with-openpgp.html">Cryptography with OpenPGP</a></li>
                    <li><a href="https://infra.apache.org/./reference/committer/opie.html">Using OPIE</a></li>
                    <li><a href="https://infra.apache.org/./operating-system-upgrade-policy.html">Operating system upgrade policy</a></li>
                    <li><a href="https://infra.apache.org/./how-to-submit-a-patch-for-project-code.html">How to submit a patch for project code</a></li>
                    <li class="active"><a href="https://infra.apache.org/./build-and-manage-a-project-website-with-pelican-and-buildbot.html">Build and manage a project website with Pelican and Buildbot</a></li>
                    <li><a href="https://infra.apache.org/./infra-policies.html">Infra policies</a></li>
                    <li><a href="https://infra.apache.org/./project-blog.html">Project Blog</a></li>
                    <li><a href="https://infra.apache.org/./project-and-product-names.html">Project and product names</a></li>
                    <li><a href="https://infra.apache.org/./project-code-repository-policy.html">Project Code Repository Policy</a></li>
                    <li><a href="https://infra.apache.org/./project-site-policy.html">Project site policy</a></li>
                    <li><a href="https://infra.apache.org/./managing-your-project-web-site.html">Managing your project web site</a></li>
                    <li><a href="https://infra.apache.org/./publishing-maven-releases-to-maven-central-repository.html">Publishing Maven Releases to Maven Central Repository</a></li>
                    <li><a href="https://infra.apache.org/./subscribe-to-apache-software-foundation-infrastructure-events.html">Subscribe to Apache Software Foundation infrastructure events</a></li>
                    <li><a href="https://infra.apache.org/./release-distribution-policy.html">Release Distribution Policy</a></li>
                    <li><a href="https://infra.apache.org/./release-download-pages-for-projects.html">Release Download Pages for Projects</a></li>
                    <li><a href="https://infra.apache.org/./release-creation-process.html">Release Creation Process</a></li>
                    <li><a href="https://infra.apache.org/./signing-releases.html">Signing Releases</a></li>
                    <li><a href="https://infra.apache.org/./reference/committer/release.html">Releasing project packages</a></li>
                    <li><a href="https://infra.apache.org/./apache-maven-repositories.html">Apache Maven repositories</a></li>
                    <li><a href="https://infra.apache.org/./requesting-an-issue-and-feature-request-tracker-for-a-project.html">Requesting an issue and feature-request tracker for a project</a></li>
                    <li><a href="https://infra.apache.org/./response-time.html">Response time</a></li>
                    <li><a href="https://infra.apache.org/./roadmap-for-apache-infrastructure.html">Roadmap for Apache Infrastructure</a></li>
                    <li><a href="https://infra.apache.org/./self-hosted-runners.html">Self-hosted runners</a></li>
                    <li><a href="https://infra.apache.org/./services-and-tools.html">Services and Tools</a></li>
                    <li><a href="https://infra.apache.org/./slack-for-asf-projects.html">Slack for ASF projects</a></li>
                    <li><a href="https://infra.apache.org/./dealing-with-spam-in-your-asf-email-account.html">Dealing with spam in your ASF email account</a></li>
                    <li><a href="https://infra.apache.org/./reference/committer/start.html">Committer documentation</a></li>
                    <li><a href="https://infra.apache.org/./status-pages.html">Status pages</a></li>
                    <li><a href="https://infra.apache.org/./reference/committer/subversion.html">Using Subversion</a></li>
                    <li><a href="https://infra.apache.org/./subversion-basics.html">Subversion basics</a></li>
                    <li><a href="https://infra.apache.org/./svn-to-git-migration.html">SVN to Git migration</a></li>
                    <li><a href="https://infra.apache.org/./reference/committer/svngit2jira.html">Subversion and Git integration with JIRA tickets</a></li>
                    <li><a href="https://infra.apache.org/./subversion-and-git-integration-with-jira-tickets.html">Subversion and Git integration with Jira tickets</a></li>
                    <li><a href="https://infra.apache.org/./about-the-apache-infrastructure-team.html">About the Apache Infrastructure Team</a></li>
                    <li><a href="https://infra.apache.org/./understanding-opensource.html">Understanding Opensource</a></li>
                    <li><a href="https://infra.apache.org/./user-documentation-for-project-releases.html">User documentation for project releases</a></li>
                    <li><a href="https://infra.apache.org/./committer-ssh-access.html">Committer SSH Access</a></li>
                    <li><a href="https://infra.apache.org/./source-code-repositories-at-apache.html">Source Code Repositories at Apache</a></li>
                    <li><a href="https://infra.apache.org/./requesting-a-virtual-machine-for-a-project.html">Requesting a virtual machine for a project</a></li>
                    <li><a href="https://infra.apache.org/./managing-virtual-machines.html">Managing virtual machines</a></li>
                    <li><a href="https://infra.apache.org/./project-vm-policy.html">Project VM policy</a></li>
                    <li><a href="https://infra.apache.org/./guidelines-for-project-websites.html">Guidelines for project websites</a></li>
                    <li><a href="https://infra.apache.org/./reference/committer/website-policy.html">Web Site Guidelines</a></li>
                    <li><a href="https://infra.apache.org/./reference/committer/website.html">How To Manage any Apache Project's Website</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
    <h1 class="entry-title">Build and manage a project website with Pelican and Buildbot</h1>
    
    <p>ASF projects can use <a href="https://docs.getpelican.com/en/stable/" target="_blank">Pelican</a> to create and manage the project website. Pelican provides a framework and the option of using themes to display your site pages, which you write in <a href="https://github.github.com/gfm/" target="_blank">Github-flavored-markdown</a> (GFM). You can set <a href="https://buildbot.net/" target="_blank">Buildbot</a> to build and publish the site every time someone saves updates to a page.</p>
<p>Pelican provides support for importing an existing site that runs on WordPress or some other service.</p>
<h3>Sites with sub-directories</h3>
<p>Pelican supports both "flat" sites and sites that have sub-directories. For the latter, add the <a href="https://github.com/akhayyat/pelican-page-hierarchy" target="_blank">pelican-page-hierarchy</a> plugin. The plugin creates a website hierarchy that matches the file hierarchy of the material in the repository.</p>
<h3>Key files and directories</h3>
<p>The repository structure for your Pelican project website has three key directories and a configuration file.</p>
<p>The directories are:</p>
<ul>
<li><strong>content/pages</strong>: holds the static pages for your website. You write and edit them using GFM.<ul>
<li>Each page is a <code>.md</code> file.</li>
<li>The first line is <code>Title:</code> and the name of the page.</li>
<li>the scond line is <code>Date:</code> and the date of the current version of the page.</li>
</ul>
</li>
<li><strong>content/articles</strong>: if your website has a blog or a series of featured articles, they go in this directory and will appear on the front page of the site. They have the same three requirements as the static pages, above.</li>
<li><strong>theme/plugins</strong>: holds the plugins Pelican and Buildbot use to build and deploy the site.</li>
</ul>
<p>The configuration file is <code>pelicanconf.py</code>.</p>
<h3>Setting up a Pelican website on Git</h3>
<p>Create the repository for the website content using the <a href="https://gitbox.apache.org/setup/newrepo.html" target="_blank">GitBox's Boxer self service tool</a> (https://gitbox.apache.org/setup/newrepo.html).</p>
<ol>
<li>Clone the repository to a local workspace</li>
<li>
<p>Run <code>pelican-quickstart</code> in the root of the repository on the master branch. </p>
<ul>
<li>The script asks where you want to create the website. Accept " . ", the default, unless you have a specific location in mind for it.</li>
<li>Use $PROJECTNAME for the site title.</li>
<li>Set the website author as $PROJECTNAME also. This lets all members of the project edit the website.</li>
<li>Accept the default language as English. You can, if you want, provide alternative versions of the website, or of certain pages, in other languages.</li>
<li>Specify a default prefix: <code>https://$PROJECTNAME.apache.org</code> (or similar friendly name)</li>
<li>Set article pagination to <code>No</code>.</li>
<li>Set time zone to <code>UTC</code>.</li>
<li>Set generation of tasks.py / makefile to 'No'.</li>
</ul>
</li>
<li>
<p>Site configuration:</p>
</li>
</ol>
<p>In your site repository, run the following commands:</p>
<div class="highlight"><pre><span></span><code><span class="err">for x in &quot;content/pages content/articles theme/plugins&quot;; do mkdir -p $x; done</span>
<span class="err">rm -rf output publishconf.py</span>
<span class="err">echo -e &quot;\nPLUGIN_PATHS=[&#39;./theme/plugins&#39;]\nPLUGINS=[]\n&quot;  &gt;&gt; pelicanconf.py</span>
<span class="err">echo -e &quot;pelican\nbeautifulsoup4&quot; &gt;&gt; requirements.txt</span>
</code></pre></div>

<ol>
<li>Commit and push your changes.</li>
<li>Set up continuous integration (CI): use the <a href="https://cwiki.apache.org/confluence/display/INFRA/git+-+.asf.yaml+features" target="_blank">asf.yaml</a> mechanism to have Pelican build and, optionally, publish your website.</li>
</ol>
<h3>Setting up a Pelican website on Subversion</h3>
<p>Setting up Pelican to work with a Subversion repository requires a bit more hands-on work. If you would like to do this, open a Jira ticket for INFRA to make a request for help.</p>
<h3>Updating your website</h3>
<p>Create and update markdown files (.md) in the content/pages and content/articles directories. If you have set up continuous integration (step 5, above), when you add pages or commit edits the site automatically updates.</p>
<h3>Using a Pelican theme</h3>
<p>Pelican provides a range of <a href="http://www.pelicanthemes.com/" target="_blank">themes</a> that can help you develop a pleasing site without too much effort. Be sure to specify the directory containing the 'static' and 'templates' directories as <code>theme:</code> in the .asf.yaml file.</p>
<h3>Pelican plugins</h3>
<p>There is a directory of <a href="https://github.com/getpelican/pelican-plugins/" target="_blank">Pelican plugins</a> that deliver extra functionality for a website.</p>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="http://getpelican.com/">Pelican</a></li>
                            <li><a href="http://python.org/">Python.org</a></li>
                            <li><a href="http://jinja.pocoo.org/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>