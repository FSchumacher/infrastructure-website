<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <meta name="generator" content="Pelican" />
        <title>How To Manage any Apache Project's Website</title>
        <link rel="stylesheet" href="https://infra-test.apache.org/theme/css/main.css" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="https://infra-test.apache.org/">Apache Infrastructure</a></h1>
                <nav><ul>
                    <li><a href="https://infra-test.apache.org/./apache-and-github.html">Apache and GitHub</a></li>
                    <li><a href="https://infra-test.apache.org/./application-upgrades-policy-and-workflow.html">Application upgrades policy and workflow</a></li>
                    <li><a href="https://infra-test.apache.org/./distributing-through-the-apple-developer-program.html">Distributing through the Apple Developer Program</a></li>
                    <li><a href="https://infra-test.apache.org/./applying-the-apache-license-version-20.html">Applying the Apache license, version 2.0</a></li>
                    <li><a href="https://infra-test.apache.org/./asf-pelican-feature-branches.html">ASF Pelican feature branches</a></li>
                    <li><a href="https://infra-test.apache.org/./asf-pelican-data-model.html">ASF Pelican data model</a></li>
                    <li><a href="https://infra-test.apache.org/./asf-pelican-getting-started-guide.html">ASF-Pelican getting-started guide</a></li>
                    <li><a href="https://infra-test.apache.org/./local-pelican-builds.html">Local Pelican builds</a></li>
                    <li><a href="https://infra-test.apache.org/./asf-pelican-plugins.html">ASF Pelican plugins</a></li>
                    <li><a href="https://infra-test.apache.org/./apache-theme-for-asf-pelican.html">Apache Theme for ASF Pelican</a></li>
                    <li><a href="https://infra-test.apache.org/./asf-pelican.html">ASF-Pelican</a></li>
                    <li><a href="https://infra-test.apache.org/./asfbot-irc-services-and-archives.html">ASFBot: IRC services and archives</a></li>
                    <li><a href="https://infra-test.apache.org/./backup-policy.html">Backup policy</a></li>
                    <li><a href="https://infra-test.apache.org/./writing-a-good-bug-report.html">Writing a good bug report</a></li>
                    <li><a href="https://infra-test.apache.org/./committer-email.html">Committer Email</a></li>
                    <li><a href="https://infra-test.apache.org/./policy-for-outreach-to-committers.html">Policy for Outreach to Committers</a></li>
                    <li><a href="https://infra-test.apache.org/./committers-faqs.html">Committers' FAQs</a></li>
                    <li><a href="https://infra-test.apache.org/./contact-the-infrastructure-team.html">Contact the Infrastructure Team</a></li>
                    <li><a href="https://infra-test.apache.org/./reference/committer/contactinfra.html">Contacting Infrastructure</a></li>
                    <li><a href="https://infra-test.apache.org/./tips-for-apache-project-email-contributors.html">Tips for Apache project email contributors</a></li>
                    <li><a href="https://infra-test.apache.org/./guide-for-new-project-contributors.html">Guide for new project contributors</a></li>
                    <li><a href="https://infra-test.apache.org/./handling-cryptography-within-an-asf-release.html">Handling cryptography within an ASF release</a></li>
                    <li><a href="https://infra-test.apache.org/./confluence-wiki-space-for-your-project.html">Confluence Wiki space for your project</a></li>
                    <li><a href="https://infra-test.apache.org/./requesting-access-to-the-digicert-code-signing-service.html">Requesting access to the Digicert code signing service</a></li>
                    <li><a href="https://infra-test.apache.org/./using-the-digicert-code-signing-service.html">Using the Digicert code signing service</a></li>
                    <li><a href="https://infra-test.apache.org/./documentation.html">Documentation</a></li>
                    <li><a href="https://infra-test.apache.org/./reference/committer/email.html">Committer e-mail configuration</a></li>
                    <li><a href="https://infra-test.apache.org/./fingerprints.html">Fingerprints</a></li>
                    <li><a href="https://infra-test.apache.org/./github-flavored-markdown.html">GitHub Flavored Markdown</a></li>
                    <li><a href="https://infra-test.apache.org/./getting-started-with-git.html">Getting started with Git</a></li>
                    <li><a href="https://infra-test.apache.org/./git-access-to-apache-subversion-codebases.html">Git access to Apache Subversion codebases</a></li>
                    <li><a href="https://infra-test.apache.org/./reference/committer/git.html">Getting started with Git</a></li>
                    <li><a href="https://infra-test.apache.org/./github-actions-policy.html">GitHub Actions Policy</a></li>
                    <li><a href="https://infra-test.apache.org/./github-actions-and-secrets.html">GitHub Actions and Secrets</a></li>
                    <li><a href="https://infra-test.apache.org/./github-pages-for-projects.html">GitHub Pages for projects</a></li>
                    <li><a href="https://infra-test.apache.org/./roles-for-project-github-repositories.html">Roles for project GitHub repositories</a></li>
                    <li><a href="https://infra-test.apache.org/./reference/committer/github.html">Apache and GitHub</a></li>
                    <li><a href="https://infra-test.apache.org/./host-a-jenkins-or-buildbot-agent.html">Host a Jenkins or Buildbot agent</a></li>
                    <li><a href="https://infra-test.apache.org/./how-to-be-an-apache-software-foundation-download-mirror.html">How to be an Apache Software Foundation download mirror</a></li>
                    <li><a href="https://infra-test.apache.org/./reference/committer/id.html">Changing your account details (self serve)</a></li>
                    <li><a href="https://infra-test.apache.org/./reference/committer/index.html">Committer Documentation</a></li>
                    <li><a href="https://infra-test.apache.org/./reference/index.html">Reference Documentation</a></li>
                    <li><a href="https://infra-test.apache.org/./self-serve-tools.html">Self-serve Tools</a></li>
                    <li><a href="https://infra-test.apache.org/./site-wide-ban-policy.html">Site-wide ban policy</a></li>
                    <li><a href="https://infra-test.apache.org/./details-on-contacting-infra.html">Details on contacting Infra</a></li>
                    <li><a href="https://infra-test.apache.org/./infra-and-the-incubator.html">Infra and the Incubator</a></li>
                    <li><a href="https://infra-test.apache.org/./apache-infrastructure-mailing-lists.html">Apache Infrastructure mailing lists</a></li>
                    <li><a href="https://infra-test.apache.org/./volunteering-for-apache-infrastructure.html">Volunteering for Apache Infrastructure</a></li>
                    <li><a href="https://infra-test.apache.org/./reference/committer/jenkins-docker.html">Using Docker with builds.apache.org</a></li>
                    <li><a href="https://infra-test.apache.org/./guidelines-for-creating-a-jira-ticket.html">Guidelines for creating a Jira ticket</a></li>
                    <li><a href="https://infra-test.apache.org/./how-to-transition-to-a-new-pgp-key.html">How to transition to a new PGP key</a></li>
                    <li><a href="https://infra-test.apache.org/./assembling-license-and-notice-files.html">Assembling LICENSE and NOTICE files</a></li>
                    <li><a href="https://infra-test.apache.org/./localization.html">Localization</a></li>
                    <li><a href="https://infra-test.apache.org/./machines-and-fingerprints.html">Machines and Fingerprints</a></li>
                    <li><a href="https://infra-test.apache.org/./mail-rejection-policy.html">Mail Rejection Policy</a></li>
                    <li><a href="https://infra-test.apache.org/./mailing-list-moderation.html">Mailing list moderation</a></li>
                    <li><a href="https://infra-test.apache.org/./managing-project-committers.html">Managing Project Committers</a></li>
                    <li><a href="https://infra-test.apache.org/./apache-mirroring-information.html">Apache mirroring information</a></li>
                    <li><a href="https://infra-test.apache.org/./guide-for-new-project-committers.html">Guide for new project committers</a></li>
                    <li><a href="https://infra-test.apache.org/./reference/committer/newaccount.html">Guide to new committers</a></li>
                    <li><a href="https://infra-test.apache.org/./open-access-svn.html">Open-access SVN</a></li>
                    <li><a href="https://infra-test.apache.org/./cryptography-with-openpgp.html">Cryptography with OpenPGP</a></li>
                    <li><a href="https://infra-test.apache.org/./reference/committer/opie.html">Using OPIE</a></li>
                    <li><a href="https://infra-test.apache.org/./operating-system-upgrade-policy.html">Operating system upgrade policy</a></li>
                    <li><a href="https://infra-test.apache.org/./how-to-submit-a-patch-for-project-code.html">How to submit a patch for project code</a></li>
                    <li><a href="https://infra-test.apache.org/./build-and-manage-a-project-website-with-pelican-and-buildbot.html">Build and manage a project website with Pelican and Buildbot</a></li>
                    <li><a href="https://infra-test.apache.org/./infra-policies.html">Infra policies</a></li>
                    <li><a href="https://infra-test.apache.org/./project-blog.html">Project Blog</a></li>
                    <li><a href="https://infra-test.apache.org/./project-and-product-names.html">Project and product names</a></li>
                    <li><a href="https://infra-test.apache.org/./project-site-policy.html">Project site policy</a></li>
                    <li><a href="https://infra-test.apache.org/./managing-your-project-web-site.html">Managing your project web site</a></li>
                    <li><a href="https://infra-test.apache.org/./publishing-maven-releases-to-maven-central-repository.html">Publishing Maven Releases to Maven Central Repository</a></li>
                    <li><a href="https://infra-test.apache.org/./subscribe-to-apache-software-foundation-infrastructure-events.html">Subscribe to Apache Software Foundation infrastructure events</a></li>
                    <li><a href="https://infra-test.apache.org/./release-distribution-policy.html">Release Distribution Policy</a></li>
                    <li><a href="https://infra-test.apache.org/./release-download-pages-for-projects.html">Release Download Pages for Projects</a></li>
                    <li><a href="https://infra-test.apache.org/./release-creation-process.html">Release Creation Process</a></li>
                    <li><a href="https://infra-test.apache.org/./signing-releases.html">Signing Releases</a></li>
                    <li><a href="https://infra-test.apache.org/./reference/committer/release.html">Releasing project packages</a></li>
                    <li><a href="https://infra-test.apache.org/./repository-access-policy.html">Repository access policy</a></li>
                    <li><a href="https://infra-test.apache.org/./apache-maven-repositories.html">Apache Maven repositories</a></li>
                    <li><a href="https://infra-test.apache.org/./requesting-an-issue-and-feature-request-tracker-for-a-project.html">Requesting an issue and feature-request tracker for a project</a></li>
                    <li><a href="https://infra-test.apache.org/./response-time.html">Response time</a></li>
                    <li><a href="https://infra-test.apache.org/./roadmap-for-apache-infrastructure.html">Roadmap for Apache Infrastructure</a></li>
                    <li><a href="https://infra-test.apache.org/./self-hosted-runners.html">Self-hosted runners</a></li>
                    <li><a href="https://infra-test.apache.org/./services-and-tools.html">Services and Tools</a></li>
                    <li><a href="https://infra-test.apache.org/./slack-for-asf-projects.html">Slack for ASF projects</a></li>
                    <li><a href="https://infra-test.apache.org/./reference/committer/ssh.html">Setting up SSH for ASF machines</a></li>
                    <li><a href="https://infra-test.apache.org/./reference/committer/start.html">Committer documentation</a></li>
                    <li><a href="https://infra-test.apache.org/./status-pages.html">Status pages</a></li>
                    <li><a href="https://infra-test.apache.org/./reference/committer/subversion.html">Using Subversion</a></li>
                    <li><a href="https://infra-test.apache.org/./subversion-basics.html">Subversion basics</a></li>
                    <li><a href="https://infra-test.apache.org/./svn-to-git-migration.html">SVN to Git migration</a></li>
                    <li><a href="https://infra-test.apache.org/./reference/committer/svngit2jira.html">Subversion and Git integration with JIRA tickets</a></li>
                    <li><a href="https://infra-test.apache.org/./subversion-and-git-integration-with-jira-tickets.html">Subversion and Git integration with Jira tickets</a></li>
                    <li><a href="https://infra-test.apache.org/./about-the-apache-infrastructure-team.html">About the Apache Infrastructure Team</a></li>
                    <li><a href="https://infra-test.apache.org/./understanding-opensource.html">Understanding Opensource</a></li>
                    <li><a href="https://infra-test.apache.org/./user-documentation-for-project-releases.html">User documentation for project releases</a></li>
                    <li><a href="https://infra-test.apache.org/./committer-ssh-configuration-on-windows.html">Committer SSH configuration on Windows</a></li>
                    <li><a href="https://infra-test.apache.org/./committer-ssh-access.html">Committer SSH Access</a></li>
                    <li><a href="https://infra-test.apache.org/./source-code-repositories-at-apache.html">Source Code Repositories at Apache</a></li>
                    <li><a href="https://infra-test.apache.org/./requesting-a-virtual-machine-for-a-project.html">Requesting a virtual machine for a project</a></li>
                    <li><a href="https://infra-test.apache.org/./project-vm-policy.html">Project VM policy</a></li>
                    <li><a href="https://infra-test.apache.org/./guidelines-for-project-websites.html">Guidelines for project websites</a></li>
                    <li><a href="https://infra-test.apache.org/./reference/committer/website-policy.html">Web Site Guidelines</a></li>
                    <li class="active"><a href="https://infra-test.apache.org/./reference/committer/website.html">How To Manage any Apache Project's Website</a></li>
                    <li><a href="https://infra-test.apache.org/./writable-git-repositories.html">Writable Git repositories</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
    <h1 class="entry-title">How To Manage any Apache Project's Website</h1>
    
    <div id="toc" style="border-radius: 3px; border: 1px solid #999; background-color: #EEE; padding: 4px;"><h4>Table of Contents:</h4><ul><ul><li><a class="toc-href" href="#preview" title="How do I preview my project website?">How do I preview my project website?</a></li><li><a class="toc-href" href="#configure" title="Can I control the configuration of my project website?">Can I control the configuration of my project website?</a></li><li><a class="toc-href" href="#logging" title="How does logging work?">How does logging work?</a></li><li><a class="toc-href" href="#use-cms" title="Do project sites have to use the CMS?">Do project sites have to use the CMS?</a></li><li><a class="toc-href" href="#svnpubsub" title="Do project sites have to use svnpubsub?">Do project sites have to use svnpubsub?</a><ul><li><a class="toc-href" href="#svnpubsub-revision" title="What revision of the site is currently being served?">What revision of the site is currently being served?</a></li></ul></li><li><a class="toc-href" href="#mail_1" title="How to provide public access to our project mail archive mbox files?">How to provide public access to our project mail archive mbox files?</a></li><li><a class="toc-href" href="#feather" title="Can my project site use its own favicon instead of just the Apache Feather?">Can my project site use its own favicon instead of just the Apache Feather?</a></li><li><a class="toc-href" href="#generated" title="How can I minimize the number of changes committed in my Maven/JavaDoc/generated site?">How can I minimize the number of changes committed in my Maven/JavaDoc/generated site?</a></li></ul></ul></div>
<p>Every Apache project or podling has a website hosted at apache.org that 
is maintained by one of these tools.  It is up to each project to decide 
the details of how their own website is maintained and what software
is used - as long as it results in static files that can be served by the
our public web servers (limited support for .htaccess files and CGI
scripts is also available). </p>
<p>The basic requirements for site management
are that only committers should be able to modify the site and that
notifications of all site changes should be sent to the relevant
project mailing lists.  The Apache CMS allows non-committers to send 
patches via a simple web interface by "Mail Diff"ing to the project 
mailing list that can be easily published by a committer.</p>
<p>The infrastructure team currently supports two primary tools for
publishing and maintaining Apache project websites:</p>
<ul>
<li><strong>Apache CMS</strong>, which provides a simple browser-based user interface
    for editing, staging and publishing site content in Markdown, HTML
    or any other source format for which support has been added. See
    the <a href="cmsref">CMS reference</a> and <a href="cmsadoption">adoption</a> for more details. The Apache CMS
    uses svnpubsub as the underlying mechanism for publishing a site.</li>
<li><strong>svnpubsub</strong>, which allows the static contents of a designated svn
    folder (<a href="http://svn.apache.org/repos/asf/ant/site/ant/production/">example</a>) to automatically published
    as the project web site at <code>http://project.apache.org/</code>. The project
    team can use any site build mechanism it wants as long as the above
    requirements are met.</li>
</ul>
<p>Some projects still use a deprecated site deployment system based
on periodic synchronization of static files from people.apache.org to
the live web servers. This mechanism will be <strong>discontinued</strong> at the end of
2012, by which time all projects should have migrated to one of the above
site publishing mechanisms.</p>
<h1 id="preview">How do I preview my project website?</h1>
<p>For svnpubsub sites, review the local files in your svn checkout before
committing them. The changes will be published immediately after you
commit them.</p>
<p>For CMS sites, just commit the changes (without "publish"-ing them) and browse
to <code>http://TLP.staging.apache.org/</code>. The CMS 
web interface includes a [Staged] link that will take you there directly.</p>
<h1 id="configure">Can I control the configuration of my project website?</h1>
<p>Yes, the central config file allows you to use <code>.htaccess</code> files in your
website directories to control configuration. Of course, reading and
parsing an <code>.htaccess</code> file on each request can slow down the server, so
you should consider requesting an adjustment in the central config file for
permanent configuration changes.</p>
<h1 id="logging">How does logging work?</h1>
<p>Each day's error and access logs are kept in
<code>www.apache.org:/x1/logs/www/</code>. They are shuffled off each night to a
directory under <code>people.apache.org:/x1/logarchive/</code> and are then
periodically archived to other media.</p>
<p>No formal log analysis is performed, but you are free to grab the logs and
do whatever analysis you would like.</p>
<h1 id="use-cms">Do project sites have to use <a href="cms">the CMS</a>?</h1>
<p>No.  It's recommended but not required.  (<a href="http://www.apache.org/dev/cms">More information</a> and
<a href="http://www.apache.org/dev/cmsref">reference</a> about the Apache CMS.)</p>
<h1 id="svnpubsub">Do project sites have to use <a href="http://svn.apache.org/viewvc/subversion/trunk/tools/server-side/svnpubsub/">svnpubsub</a>?</h1>
<p>Yes.  Infrastructure will mandate transition to svnpubsub over this year.
(svnpubsub <a href="#intro">requires</a> the generated site files to be in a Subversion
tree somewhere.  For CMS users this tree will be the CMS build output tree.)</p>
<h2 id="svnpubsub-revision">What revision of the site is currently being served?</h2>
<p>Look at the <code>.revision</code> file at the root of your site (for example,
<a href="https://www.apache.org/dist/subversion/.revision">https://www.apache.org/dist/subversion/.revision</a> or 
<a href="http://subversion.apache.org/.revision">http://subversion.apache.org/.revision</a>).  That file is updated after every
successful <code>svn update</code>.  (If the update is underway or exited abnormally,
<code>.revision</code> won't have been changed.)</p>
<h1 id="mail_1">How to provide public access to our project mail archive mbox files?</h1>
<p>Some projects have a "mail" directory at the top of their project website.
Enable this by creating a symbolic link in svnpubsub or CMS output
(to <code>/home/apmail/public-arch/$tlp.apache.org</code>).
Also see other <a href="http://apache.org/dev/#mail">notes</a>.</p>
<h1 id="feather">Can my project site use its own favicon instead of just the Apache Feather?</h1>
<p>Yes, just add a <code>favicon.ico</code> file to your site's root.  The feather is only
used for project sites that don't have a <code>favicon.ico</code> file.</p>
<h1 id="generated">How can I minimize the number of changes committed in my Maven/JavaDoc/generated site?</h1>
<p>If you are using svnpubsub, the commit will perform very slowly if the number of changes is large - particularly if the number of files is large.
This is often the case with JavaDoc, and to a lesser extent Maven generated sites.</p>
<p>You may wish to use the CMS instead of svnpubsub directly. This moves the work to the server-side, but it will still be valuable to minimize the changes committed.</p>
<p>These are some steps that can be taken:</p>
<ul>
<li>Ask infrastructure to store your generated content in the CMS repository, rather than the main ASF repository. While this won't necessarily speed up the commit, it will prevent it from impacting other users.</li>
<li>When running JavaDoc, pass the <code>-notimestamp</code> option. This will avoid most files from being modified between runs if there haven't been code changes.</li>
<li>Use a Maven skin that doesn't generate a timestamp into the output. This may require customizing the current skins.</li>
<li>If you use the Maven dependencies report in the Project Info Reports plugin, use version 2.7+ of the plugin (<em>not yet released</em>) which avoids random strings being generated.</li>
<li>If you maintain historical versions of documentation, always check-in to a single "trunk", then use an <code>svn copy</code> operation to tag or branch the content, rather than checking in a complete copy</li>
<li>Minimize uses of "publish date" and "version" in templates to those that are truly necessary or helpful. Consider using a "last modified date" and version in the URL instead (unless "latest" is implied).</li>
<li>Minimize Subversion keywords in the output that may change frequently without significant meaning. This includes in source code that may be rendered to JavaDoc or a Maven JXR source cross-reference).</li>
<li>Avoid publishing Maven reports that change constantly to the project site. Code coverage, style reports, static analysis, etc. can be generated into a working copy on the CI server instead for easy developer viewing, and project's can consider utilizing https://analysis.apache.org/ for such reports as well.</li>
</ul>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="http://getpelican.com/">Pelican</a></li>
                            <li><a href="http://python.org/">Python.org</a></li>
                            <li><a href="http://jinja.pocoo.org/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>